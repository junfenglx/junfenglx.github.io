<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="junfeng" />
    <meta name="robots" content="index, follow"/>

    <meta property="og:title" content="The Little Redis Book 笔记"/>
    <meta property="og:url" content="http://junfenglx.github.io/the-little-redis-book-bi-ji.html"/>
    <meta property="og:site_name" content="jf.h"/>
    <meta property="og:type" content="article"/>

    <link rel="canonical" href="http://junfenglx.github.io/the-little-redis-book-bi-ji.html" />
    <link rel="shortcut icon" href="favicon.ico" />

    <title>The Little Redis Book 笔记 | jf.h</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="http://junfenglx.github.io/theme/css/bootstrap-combined.min.css" type="text/css" />

    <link rel="stylesheet" href="http://junfenglx.github.io/theme/css/main.css" type="text/css" />
    <link href="http://junfenglx.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="jf.h Atom Feed" />

</head>

<body id="index">
    <div class="row-fluid">
        <div class="span10 offset1">
            <header id="banner" >
                <h1>
                    <a href="http://junfenglx.github.io/">jf.h
 <h3><strong>lylx</strong></h3>                    </a>
                </h1>
                <nav class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li><a href="/">首页</a></li>
                            <li><a href="http://junfenglx.github.io/pages/about.html">关于我</a></li>
                        </ul>

                    </div>
                </nav>
            </header><!-- /#banner -->
        </div>
    </div>

    <div class="row-fluid">
        <div class="span10 offset1">
            <div class="row-fluid">
<div class="span10 offset1">
  <section>
    <article>
      <header>
        <h1 class="entry-title">
          <a href="http://junfenglx.github.io/the-little-redis-book-bi-ji.html" rel="bookmark"
             title="Permalink to The Little Redis Book 笔记">The Little Redis Book 笔记</a></h1>
      </header>
      <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="http://junfenglx.github.io/author/junfeng.html">junfeng</a>
    </address>

    in <a href="http://junfenglx.github.io/category/bi-ji.html">笔记</a>

    on 2015-04-15

        |
        tags:         <a href="http://junfenglx.github.io/tag/redis.html">Redis</a>
        <a href="http://junfenglx.github.io/tag/learning.html">learning</a>


        |
        <a href="http://junfenglx.github.io/the-little-redis-book-bi-ji.html#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->

        <p>query limitations, data structures and Redis' way to store data in memory</p>
<h3>strings</h3>
<p>use cases: storing objects (complex or not) and counters</p>
<h3>hashes</h3>
<p>hash suits for structed objects
hash implemention</p>
<h3>sets</h3>
<p>in op is O(1)?</p>
<p>use cases: Sets are great for tagging or tracking any other properties
of a value for which duplicates don't make any sense
(or where we want to apply set operations such as intersections and unions).</p>
<h3>sorted sets</h3>
<p>hashes are like strings but with fields,
then sorted sets are like sets but with a score</p>
<p>use cases:</p>
<ul>
<li>leaderboard system</li>
<li>anything you want sorted by an some integer,
  and be able to efficiently manipulate based on that score,</li>
</ul>
<h3>Pseudo Multi Key Queries</h3>
<p>using hashes to make querying a little easier</p>
<h3>References and Indexes</h3>
<p>manage/update/delete these references manually is defficult</p>
<h3>Round Trips and Pipelining</h3>
<h3>Transactions</h3>
<p>Every Redis command is atomic, including the ones that do multiple things.
Additionally, Redis has support for transactions when using multiple commands.</p>
<p>Redis is actually single-threaded,
which is how every command is guaranteed to be atomic</p>
<p>starts <em>multi</em> then some <em>commands</em> ends with exec or discard</p>
<h3>Expiration</h3>
<p>commands:
- EXPIRE
- EXPIREAT
- TTL
- PERSIST
- SETEX</p>
<p>ideal caching engine</p>
<h3>Lua Scripting</h3>
<p>keys with a TTL won't expire half-way through script execution</p>
<p><em>lua-time-limit</em> defines how long a Lua script is allowed to
execute before being terminated. Default is 5 seconds.</p>
<h3>Replication</h3>
<p>Redis replication doesn't yet provide automated failover,
If the master dies, a slave needs to be manually promoted</p>
<p>Some commands are more expensive than others (sort for example)
and offloading their execution to a slave can keep the overall
system responsive to incoming queries</p>
<h3>Backups</h3>
<p>disable both snapshotting and the append-only file (aof) on
the master and let a slave take care of this</p>
<h3>Redis Cluster</h3>
<p>Not only will this offer horizontal scaling, including rebalancing,
but it'll also provide automated failover for high availability.</p>
<h3>End</h3>
<p><em>Redis is easy to learn</em></p>
<p><em>the real benefits Redis has to offer with its simplicity</em></p>

      </div><!-- /.entry-content -->
      <div class="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          var disqus_identifier = "the-little-redis-book-bi-ji.html";
          (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//junfeng.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
      </div>

    </article>
  </section>
</div>
            </div>
        </div>
    </div>

    <footer id="site-footer">
        <div class="row-fluid">
            <div class="span10 offset1">
                <address>
                    <p>
                        UI Designed By <a href="http://github.com/jsliang/pelican-fresh/">Fresh</a>
                    </p>
                </address>
            </div>
        </div>
    </footer>

<script type="text/javascript">
    var disqus_shortname = 'junfeng';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    <script src="http://junfenglx.github.io/theme/js/jquery.min.js"></script>
    <script src="http://junfenglx.github.io/theme/js/bootstrap.min.js"></script>
    <script src="http://junfenglx.github.io/theme/js/jquery.cookie.js"></script>
    <!--script src="http://junfenglx.github.io/theme/js/analyse.js"></script -->
</body>
</html>